<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One Search Bar To Rule Them All</title>

    <script>
      const actions = {
        google: "https://www.google.com/search?q=",
        duckDuckGo: "https://duckduckgo.com/?q=",
        bing: "https://www.bing.com/search?q=",
        ask: "https://www.ask.com/web?q=",
      };

      function setSearchEngine() {
        console.log("setSearchEngine function ran");
        const actionURL =
          actions[document.querySelector("input[name=engine]:checked").value];
        const form = document.getElementById("searchForm");
        form.setAttribute("action", actionURL);
      }

      window.addEventListener("load", function () {
        const form = document.getElementById("searchForm");
        form.addEventListener("submit", function (event) {
          setSearchEngine();
        });
      });
    </script>
  </head>

  <body>
    <form id="searchForm" method="GET" action="">
      <input type="text" name="q" required />
      <label
        >Google<input type="radio" name="engine" value="google" required />
      </label>
      <label
        >DuckDuckGo<input type="radio" name="engine" value="duckDuckGo" />
      </label>
      <label>Bing<input type="radio" name="engine" value="bing" /> </label>
      <label>Ask<input type="radio" name="engine" value="ask" /> </label>
      <button>Go!</button>
    </form>
  </body>
</html>
